{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"variables": {
		"ApiVersion": "2015-06-01",
		"webAppApiVersion": "2014-06-01"
	},
	"parameters": {
		"serverFarmName": {
			"type": "string",
			"metadata": {
				"description": "Name of the Server Farm"
			}
		},
		"webAppName": {
			"type": "string",
			"metadata": {
				"description": "Name of the Web App"
			}
		}
	},
	"resources": [{
		"name": "[parameters('serverFarmName')]",
		"type": "Microsoft.Web/serverfarms",
		"location": "[resourceGroup().location]",
		"apiVersion": "[variables('webAppApiVersion')]",
		"properties": {
			"name": "[parameters('serverFarmName')]",
			"sku": "Premium",
			"workerSize": "0",
			"numberOfWorkers": 1
		}
	}, {
		"name": "[parameters('webAppName')]",
		"type": "Microsoft.Web/sites",
		"location": "[resourceGroup().location]",
		"apiVersion": "[variables('webAppApiVersion')]",
		"dependsOn": [
			"[concat('Microsoft.Web/serverfarms/', parameters('serverFarmName'))]"
		],
		"properties": {
			"name": "[parameters('webAppName')]",
			"serverFarm": "[parameters('serverFarmName')]"
		}
	}, {
		"apiVersion": "[variables('ApiVersion')]",
		"name": "web",
		"type": "config",
		"dependsOn": [
			"[concat('Microsoft.Web/serverfarms/', parameters('serverFarmName'))]"
		],
		"properties": {
			"phpVersion": "off",
			"netFrameworkVersion": "v4.5",
			"use32BitWorkerProcess": true,
			"webSocketsEnabled": true,
			"alwaysOn": true,
			"requestTracingEnabled": true,
			"httpLoggingEnabled": true,
			"logsDirectorySizeLimit": 40,
			"detailedErrorLoggingEnabled": true,
			"scmType": "LocalGit"
		}
	}]
}
